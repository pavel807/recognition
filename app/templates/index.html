<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Real-Time Face Recognition</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 0; background-color: #1a1a1a; color: #e0e0e0; display: flex; flex-direction: column; align-items: center; min-height: 100vh; }
        .container { background-color: #2c2c2c; padding: 25px; border-radius: 10px; box-shadow: 0 0 20px rgba(0, 220, 255, 0.6); width: 80%; max-width: 900px; margin-top: 20px; }
        h1 { color: #0cf; text-align: center; text-transform: uppercase; letter-spacing: 2px; margin-bottom: 20px; }
        #video_feed_container {
            width: 100%; /* max-width: 640px; */
            margin: 20px auto;
            border: 3px solid #0cf;
            background-color: #111;
            display: flex; justify-content: center; align-items: center;
        }
        #video_feed_img { display: block; width: 100%; height: auto; }
        .nav-links { text-align: center; margin-top: 25px; padding-top: 15px; border-top: 1px solid #077; }
        .nav-links a, .nav-links form button {
            color: #0cf; text-decoration: none; margin: 0 15px; padding: 8px 12px; border-radius: 5px;
            transition: background-color 0.3s, color 0.3s;
            border: 1px solid #0cf; /* For buttons */
            background: none; /* For buttons */
            cursor: pointer; /* For buttons */
            font-size: 1em; /* For buttons */
        }
        .nav-links a:hover, .nav-links form button:hover { background-color: #0cf; color: #1a1a1a; }
        .flash-messages { list-style: none; padding: 0; margin-top: 15px; }
        .flash-messages li { padding: 12px; margin-bottom: 10px; border-radius: 5px; text-align: center; }
        .flash-messages .success { background-color: #3c763d44; color: #dff0d8; border: 1px solid #3c763d; }
        .flash-messages .error { background-color: #a9444244; color: #f2dede; border: 1px solid #a94442; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Real-Time Face Recognition</h1>

        {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
            <ul class="flash-messages">
            {% for category, message in messages %}
              <li class="{{ category if category else 'message' }}">{{ message }}</li>
            {% endfor %}
            </ul>
          {% endif %}
        {% endwith %}

        <div id="video_feed_container">
            <img id="video_feed_img" src="{{ url_for('video_feed') }}" alt="Video Feed Loading..." width="640" height="480">
            <!-- width and height attributes are optional if CSS handles it well -->
        </div>

        <div class="nav-links">
            <a href="{{ url_for('upload_image') }}">Upload Known Faces</a> |
            <a href="{{ url_for('list_faces') }}">View Known Faces</a>
            <form action="{{ url_for('refresh_faces_in_camera') }}" method="POST" style="display: inline;">
                <button type="submit">Refresh Camera Faces</button>
            </form>
        </div>
    </div>
</body>
</html>
